(()=>{var e={};e.id=196,e.ids=[196],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},5528:e=>{"use strict";e.exports=require("next/dist\\client\\components\\action-async-storage.external.js")},1877:e=>{"use strict";e.exports=require("next/dist\\client\\components\\request-async-storage.external.js")},5319:e=>{"use strict";e.exports=require("next/dist\\client\\components\\static-generation-async-storage.external.js")},1017:e=>{"use strict";e.exports=require("path")},7310:e=>{"use strict";e.exports=require("url")},9379:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>l.a,__next_app__:()=>x,originalPathname:()=>u,pages:()=>d,routeModule:()=>m,tree:()=>c});var n=r(482),a=r(9108),s=r(2563),l=r.n(s),i=r(8300),o={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>i[e]);r.d(t,o);let c=["",{children:["customer",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,7651)),"D:\\Billone\\NT\\nt_verifyOver100\\src\\app\\customer\\page.tsx"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,3881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,1342)),"D:\\Billone\\NT\\nt_verifyOver100\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,9361,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,3881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],d=["D:\\Billone\\NT\\nt_verifyOver100\\src\\app\\customer\\page.tsx"],u="/customer/page",x={require:r,loadChunk:()=>Promise.resolve()},m=new n.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/customer/page",pathname:"/customer",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},1239:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,2583,23)),Promise.resolve().then(r.t.bind(r,6840,23)),Promise.resolve().then(r.t.bind(r,8771,23)),Promise.resolve().then(r.t.bind(r,3225,23)),Promise.resolve().then(r.t.bind(r,9295,23)),Promise.resolve().then(r.t.bind(r,3982,23))},9806:(e,t,r)=>{Promise.resolve().then(r.bind(r,2605))},4907:()=>{},2254:(e,t,r)=>{e.exports=r(4767)},2605:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>N});var n=r(2295),a=r(5588),s=r(7695),l=r(1521),i=r(9366),o=r(2045),c=(0,i.tv)({base:["relative inline-flex items-center outline-none tap-highlight-transparent",...o.Dh],variants:{size:{sm:"text-small",md:"text-medium",lg:"text-large"},color:{foreground:"text-foreground",primary:"text-primary",secondary:"text-secondary",success:"text-success",warning:"text-warning",danger:"text-danger"},underline:{none:"no-underline",hover:"hover:underline",always:"underline",active:"active:underline",focus:"focus:underline"},isBlock:{true:["px-2","py-1","hover:after:opacity-100","after:content-['']","after:inset-0","after:opacity-0","after:w-full","after:h-full","after:rounded-xl","after:transition-background","after:absolute"],false:"hover:opacity-80 active:opacity-disabled transition-opacity"},isDisabled:{true:"opacity-disabled cursor-default pointer-events-none"},disableAnimation:{true:"after:transition-none transition-none"}},compoundVariants:[{isBlock:!0,color:"foreground",class:"hover:after:bg-foreground/10"},{isBlock:!0,color:"primary",class:"hover:after:bg-primary/20"},{isBlock:!0,color:"secondary",class:"hover:after:bg-secondary/20"},{isBlock:!0,color:"success",class:"hover:after:bg-success/20"},{isBlock:!0,color:"warning",class:"hover:after:bg-warning/20"},{isBlock:!0,color:"danger",class:"hover:after:bg-danger/20"},{underline:["hover","always","active","focus"],class:"underline-offset-4"}],defaultVariants:{color:"primary",size:"md",isBlock:!1,underline:"none",isDisabled:!1,disableAnimation:!1}}),d=r(4862),u=r(2340),x=r(8329),m=r(7618),p=r(4975),f=r(1410),h=r(3729),g=r.n(h),b=e=>(0,n.jsxs)("svg",{"aria-hidden":"true",fill:"none",focusable:"false",height:"1em",shapeRendering:"geometricPrecision",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",viewBox:"0 0 24 24",width:"1em",...e,children:[(0,n.jsx)("path",{d:"M18 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h6"}),(0,n.jsx)("path",{d:"M15 3h6v6"}),(0,n.jsx)("path",{d:"M10 14L21 3"})]}),v=(0,m.Gp)((e,t)=>{let{Component:r,children:a,showAnchorIcon:s,anchorIcon:l=(0,n.jsx)(b,{className:"flex mx-1 text-current self-center"}),getLinkProps:i}=function(e){var t,r;let[n,a]=(0,m.oe)(e,c.variantKeys),{ref:s,as:l,children:i,anchorIcon:o,isExternal:g=!1,showAnchorIcon:b=!1,autoFocus:v=!1,className:y,onPress:w,onPressStart:j,onPressEnd:N,onClick:k,...P}=n,_=(0,p.gy)(s),{linkProps:D}=function(e,t){let{elementType:r="a",onPress:n,onPressStart:a,onPressEnd:s,onClick:l,isDisabled:i,...o}=e,c={};"a"!==r&&(c={role:"link",tabIndex:i?void 0:0});let{focusableProps:m}=(0,u.kc)(e,t),{pressProps:p,isPressed:f}=(0,x.r)({onPress:n,onPressStart:a,onPressEnd:s,isDisabled:i,ref:t}),h=(0,d.zL)(o,{labelable:!0,isLink:"a"===r}),g=(0,d.dG)(m,p),b=(0,d.tv)();return{isPressed:f,linkProps:(0,d.dG)(h,{...g,...c,"aria-disabled":i||void 0,"aria-current":e["aria-current"],onClick:e=>{var t;null==(t=p.onClick)||t.call(p,e),l&&l(e),!b.isNative&&e.currentTarget instanceof HTMLAnchorElement&&e.currentTarget.href&&!e.isDefaultPrevented()&&(0,d.b0)(e.currentTarget,e)&&(e.preventDefault(),b.open(e.currentTarget,e))}})}}({...P,onPress:w,onPressStart:j,onPressEnd:N,onClick:k,isDisabled:e.isDisabled,elementType:`${l}`},_),{isFocused:T,isFocusVisible:q,focusProps:C}=(0,u.Fx)({autoFocus:v});g&&(P.rel=null!=(t=P.rel)?t:"noopener noreferrer",P.target=null!=(r=P.target)?r:"_blank");let O=(0,h.useMemo)(()=>c({...a,className:y}),[...Object.values(a),y]);return{Component:l||"a",children:i,anchorIcon:o,showAnchorIcon:b,getLinkProps:(0,h.useCallback)(()=>({ref:_,className:O,"data-focus":(0,f.PB)(T),"data-disabled":(0,f.PB)(e.isDisabled),"data-focus-visible":(0,f.PB)(q),...(0,d.dG)(C,D,P)}),[O,T,q,C,D,P])}}({ref:t,...e});return(0,n.jsx)(r,{...i(),children:(0,n.jsxs)(n.Fragment,{children:[a,s&&l]})})});v.displayName="NextUI.Link";var y=r(3574),w=r(9218),j=r(2254);!function(){var e=Error("Cannot find module '@/app/ui/ResultForm'");throw e.code="MODULE_NOT_FOUND",e}();let N=()=>{(0,w.unstable_noStore)(),(0,j.useRouter)();let[e,t]=(0,h.useState)(""),[r,i]=(0,h.useState)(""),[o,c]=(0,h.useState)(!1),[d,u]=(0,h.useState)(!1),[x,m]=(0,h.useState)(""),[p,f]=g().useState(null),[b,N]=(0,h.useState)([]),k=async()=>{let t=new FormData;t.append("msisdn",e),t.append("idCardNumber",r),await fetch("/api/auth/customer",{method:"POST",body:t}).then(e=>e.json()).then(e=>{200===e.status?(f(e.otpData),c(!0),N(e.customerData.customer_search||[]),alert("Check your sms to verify otp.")):alert(`Id card number or mobile number is invalid. ${e.status}`)}).catch(e=>{console.error("Error:",e)})},P=async e=>{e.preventDefault(),await k()},_=async e=>{e.preventDefault(),null!==p&&x===p.otp&&(Date.now()-p.timestamp)/6e4<5?u(!0):null!==p&&(Date.now()-p.timestamp)/6e4>5?alert("รหัส OTP หมดอายุกรุณาคลิกส่ง OTP อีกครั้ง"):alert("รหัส OTP ไม่ถูกต้อง")};return(0,n.jsxs)(y.w,{children:[n.jsx("div",{className:"fixed top-20 right-20",children:(0,n.jsxs)(v,{size:"lg",isBlock:!0,href:"/",color:"foreground",children:[(0,n.jsxs)("svg",{className:"h-8 w-8 text-black",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",children:["  ",n.jsx("path",{stroke:"none",d:"M0 0h24v24H0z"}),"  ",n.jsx("polyline",{points:"5 12 3 12 12 3 21 12 19 12"}),"  ",n.jsx("path",{d:"M5 12v7a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-7"}),"  ",n.jsx("path",{d:"M9 21v-6a2 2 0 0 1 2 -2h2a2 2 0 0 1 2 2v6"})]})," กลับหน้าหลัก"]})}),d?n.jsx("main",{className:"flex min-h-screen min-w-screen bg-gradient-to-tr from-yellow-100 via-yellow-400 to-yellow-500",children:n.jsx(Object(function(){var e=Error("Cannot find module '@/app/ui/ResultForm'");throw e.code="MODULE_NOT_FOUND",e}()),{data:b,msisdn:e})}):n.jsx("main",{className:"flex min-h-screen min-w-screen flex-col items-center justify-center p-24 bg-gradient-to-tr from-yellow-100 via-yellow-400 to-yellow-500",children:(0,n.jsxs)("div",{className:"z-10 max-w-10xl w-full items-center justify-between font-nt text-sm lg:flex flex-col",children:[n.jsx(a.Z,{}),n.jsx("h1",{className:"mb-10 text-3xl font-extrabold text-gray-900 md:text-4xl lg:text-5xl",children:" ระบบยืนยันตัวตนสำหรับผู้มีเบอร์โทรศัพท์หลายหมายเลข"}),n.jsx("div",{className:"min-w-screen",children:o?p&&n.jsx(s.Z,{genRef:p.reference,handleInputChange:(e,t)=>{let r=e.target.value;if(/^[0-9]$/.test(r)){let e=x.split("");e[t]=r,m(e.join(""))}console.log(x)},handleSubmit:_}):n.jsx(l.Z,{updateID:e=>{i(e.target.value)},updateMsisdn:e=>{t(e.target.value)},handleSubmit:P})})]})})]})}},5588:(e,t,r)=>{"use strict";r.d(t,{Z:()=>l});var n=r(2295),a=r(1223),s=r.n(a);function l(){return n.jsx(s(),{className:"mb-5",src:"/NT-logo.png",width:1e3,height:1e3,alt:"NT logo"})}},7695:(e,t,r)=>{"use strict";r.d(t,{Z:()=>l});var n=r(2295),a=r(429);r(3729);var s=r(9218);let l=({handleInputChange:e,genRef:t,handleSubmit:r})=>((0,s.unstable_noStore)(),n.jsx("form",{onSubmit:r,children:(0,n.jsxs)("div",{className:"w-full flex flex-col gap-4 justify-center text-center",children:[(0,n.jsxs)("h2",{className:"mb-2 text-3xl font-extrabold text-gray-800 md:text-4xl lg:text-5xl",children:["รหัส OTP ref=",t]}),(0,n.jsxs)("div",{className:"flex flex-row items-center justify-between mx-auto w-full max-w-xs",children:[n.jsx("div",{className:"w-16 h-16 mr-2",children:n.jsx("input",{className:"w-full h-full flex flex-col items-center justify-center text-center px-5 outline-none rounded-xl border border-gray-200 text-3xl bg-white focus:bg-gray-50 focus:ring-1 ring-blue-700 text-black",type:"text",name:"otp1",id:"otp1",required:!0,maxLength:1,onChange:t=>e(t,0)})}),n.jsx("div",{className:"w-16 h-16 mr-2",children:n.jsx("input",{className:"w-full h-full flex flex-col items-center justify-center text-center px-5 outline-none rounded-xl border border-gray-200 text-3xl bg-white focus:bg-gray-50 focus:ring-1 ring-blue-700 text-black",type:"text",name:"otp2",id:"otp2",required:!0,maxLength:1,onChange:t=>e(t,1)})}),n.jsx("div",{className:"w-16 h-16 mr-2",children:n.jsx("input",{className:"w-full h-full flex flex-col items-center justify-center text-center px-5 outline-none rounded-xl border border-gray-200 text-3xl bg-white focus:bg-gray-50 focus:ring-1 ring-blue-700 text-black",type:"text",name:"otp3",id:"otp3",required:!0,maxLength:1,onChange:t=>e(t,2)})}),n.jsx("div",{className:"w-16 h-16 mr-2",children:n.jsx("input",{className:"w-full h-full flex flex-col items-center justify-center text-center px-5 outline-none rounded-xl border border-gray-200 text-3xl bg-white focus:bg-gray-50 focus:ring-1 ring-blue-700 text-black",type:"text",name:"otp4",id:"otp4",required:!0,maxLength:1,onChange:t=>e(t,3)})}),n.jsx("div",{className:"w-16 h-16 mr-2",children:n.jsx("input",{className:"w-full h-full flex flex-col items-center justify-center text-center px-5 outline-none rounded-xl border border-gray-200 text-3xl bg-white focus:bg-gray-50 focus:ring-1 ring-blue-700 text-black",type:"text",name:"otp5",id:"otp5",required:!0,maxLength:1,onChange:t=>e(t,4)})})]}),n.jsx(a.A,{className:"text-3xl",color:"warning",type:"submit",children:"ยืนยัน"}),n.jsx(a.A,{className:"text-3xl",color:"warning",type:"button",onPress:()=>{window.location.reload()},children:"ส่ง OTP อีกครั้ง"})]})}))},1521:(e,t,r)=>{"use strict";r.d(t,{Z:()=>l});var n=r(2295),a=r(6405),s=r(429);r(3729);let l=({updateID:e,updateMsisdn:t,handleSubmit:r})=>n.jsx("form",{onSubmit:r,children:(0,n.jsxs)("div",{className:"w-full flex flex-col gap-4",children:[(0,n.jsxs)("div",{className:"flex w-full flex-wrap md:flex-nowrap mb-6 md:mb-0 gap-4 text-3xl",children:[n.jsx(a.Y,{type:"text",variant:"flat",label:"หมายเลขบัตรประชาชน",fullWidth:!0,isRequired:!0,radius:"md",size:"lg",maxLength:13,id:"cardnumber",onChange:e,required:!0,placeholder:"1330xxxxxxxxx"}),n.jsx(a.Y,{type:"text",variant:"flat",label:"หมายเลขโทรศัพท์มือถือ",fullWidth:!0,isRequired:!0,radius:"md",size:"lg",maxLength:10,id:"msisdnd",onChange:t,required:!0,placeholder:"08xxxxxxxx"})]},"flat"),n.jsx(s.A,{className:"text-3xl",type:"submit",color:"warning",fullWidth:!0,children:"รับรหัส OTP"})]})})},7651:(e,t,r)=>{"use strict";r.r(t),r.d(t,{$$typeof:()=>s,__esModule:()=>a,default:()=>l});let n=(0,r(6843).createProxy)(String.raw`D:\Billone\NT\nt_verifyOver100\src\app\customer\page.tsx`),{__esModule:a,$$typeof:s}=n,l=n.default},1342:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>i,metadata:()=>l});var n=r(5036),a=r(7573),s=r.n(a);r(5023);let l={title:"NT Verify multiple mobile number.",description:"ระบบยืนยันตัวตน สำหรับผู้มีหลายหมายเลขในระบบ NT"};function i({children:e}){return n.jsx("html",{lang:"en",children:n.jsx("body",{className:s().className,children:e})})}},3881:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});var n=r(337);let a=e=>[{type:"image/x-icon",sizes:"16x16",url:(0,n.fillMetadataSegment)(".",e.params,"favicon.ico")+""}]},5023:()=>{}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),n=t.X(0,[638,944,463],()=>r(9379));module.exports=n})();